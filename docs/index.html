<script>
        async function chercherJoueur() {
            const inputVal = document.getElementById('joueurInput').value;
            
            // On vérifie si l'utilisateur a bien mis un #
            if (!inputVal.includes('#')) {
                alert("Format incorrect ! Il faut mettre Nom#Tag (ex: Faker#KR1)");
                return;
            }

            // On sépare le nom et le tag
            const [gameName, tagLine] = inputVal.split('#');

            // On appelle la nouvelle route du serveur : /recherche/Nom/Tag
            const url = `http://127.0.0.1:5000/recherche/${gameName}/${tagLine}`;

            try {
                // On affiche "Chargement..."
                document.getElementById('resultat').style.display = 'block';
                document.getElementById('nomJoueur').innerText = "Recherche en cours...";

                const response = await fetch(url);
                const data = await response.json();

                if (data.error) {
                    document.getElementById('nomJoueur').innerText = "Erreur";
                    alert(data.error);
                    return;
                }

                // Affichage des données
                // data.account.gameName + '#' + data.account.tagLine = Le vrai nom
                document.getElementById('nomJoueur').innerText = `${data.account.gameName} #${data.account.tagLine}`;
                document.getElementById('niveauJoueur').innerText = data.profil.summonerLevel;
                document.getElementById('rankInfo').innerText = JSON.stringify(data.rangs, null, 2);

            } catch (error) {
                console.error(error);
                alert("Erreur de connexion au serveur Python.");
            }
        }
    </script>